{"openapi":"3.1.0","info":{"title":"Todo Backend","description":"FastAPI backend for Evolution of Todo - Phase 2","version":"0.1.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register","description":"Register a new user account.\n\nCreates a new user with the provided email and password.\nPassword is hashed before storage.\n\nArgs:\n    request: Registration request with email and password.\n    session: Database session dependency.\n\nReturns:\n    AuthSuccessResponse: Registration success with user data.\n\nRaises:\n    HTTPException: 400 if email is already registered.\n\nTask Reference: T027","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}},"400":{"description":"Duplicate email or validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"Authenticate user and return JWT token.\n\nValidates credentials and returns access token on success.\n\nArgs:\n    request: Login request with email and password.\n    session: Database session dependency.\n\nReturns:\n    AuthSuccessResponse: Login success with user data and token.\n\nRaises:\n    HTTPException: 401 if credentials are invalid.\n\nTask Reference: T033","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"Logout current user.\n\nNote: JWT tokens are stateless. This endpoint acknowledges the logout\nrequest, but actual token invalidation is handled client-side by\nremoving the token from storage.\n\nReturns:\n    AuthSuccessResponse: Logout acknowledgment.\n\nTask Reference: T034","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth"],"summary":"Get Me","description":"Get current authenticated user.\n\nRequires valid JWT token in Authorization header.\n\nArgs:\n    current_user: Current user from JWT token (dependency injection).\n\nReturns:\n    AuthSuccessResponse: Current user data.\n\nRaises:\n    HTTPException: 401 if token is invalid or missing.\n\nTask Reference: T035","operationId":"get_me_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSuccessResponse"}}}},"401":{"description":"Unauthorized - invalid or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthErrorResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tasks":{"get":{"tags":["tasks"],"summary":"List Tasks","description":"List all tasks for the authenticated user.\n\nArgs:\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    TaskListResponse: List of tasks with metadata.","operationId":"list_tasks_api_v1_tasks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskListResponse"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["tasks"],"summary":"Create Task","description":"Create a new task for the authenticated user.\n\nArgs:\n    request: Task creation data (title, description, priority, tags).\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    TaskSuccessResponse: Created task data.","operationId":"create_task_api_v1_tasks_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Task","description":"Get a specific task by ID.\n\nArgs:\n    task_id: UUID of the task to retrieve.\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    TaskSuccessResponse: Task data.\n\nRaises:\n    HTTPException: 404 if task not found or not owned by user.","operationId":"get_task_api_v1_tasks__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["tasks"],"summary":"Update Task","description":"Update a task's fields.\n\nArgs:\n    task_id: UUID of the task to update.\n    request: Update data (title, description, priority, tags).\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    TaskSuccessResponse: Updated task data.\n\nRaises:\n    HTTPException: 404 if task not found or not owned by user.","operationId":"update_task_api_v1_tasks__task_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Task Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tasks"],"summary":"Delete Task","description":"Delete a task.\n\nArgs:\n    task_id: UUID of the task to delete.\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    DeleteResponse: Confirmation of deletion.\n\nRaises:\n    HTTPException: 404 if task not found or not owned by user.","operationId":"delete_task_api_v1_tasks__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tasks/{task_id}/complete":{"patch":{"tags":["tasks"],"summary":"Toggle Complete","description":"Toggle a task's completion status.\n\nArgs:\n    task_id: UUID of the task to toggle.\n    session: Database session.\n    current_user: Authenticated user from JWT.\n\nReturns:\n    TaskSuccessResponse: Updated task data with new completion status.\n\nRaises:\n    HTTPException: 404 if task not found or not owned by user.","operationId":"toggle_complete_api_v1_tasks__task_id__complete_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat":{"post":{"summary":"Chat with AI Assistant","description":"Send a message to the AI assistant and receive a response. Supports conversation continuation via conversation_id.","operationId":"chat_api_v1_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/":{"get":{"summary":"Root","description":"Root endpoint.\n\nReturns:\n    dict: Welcome message and API status.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Root  Get"}}}}}}},"/health":{"get":{"summary":"Health","description":"Health check endpoint.\n\nReturns:\n    dict: Health status of the application.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Health Get"}}}}}}}},"components":{"schemas":{"AuthErrorDetail":{"properties":{"code":{"type":"string","title":"Code"},"message":{"type":"string","title":"Message"}},"type":"object","required":["code","message"],"title":"AuthErrorDetail","description":"Error detail schema.\n\nAttributes:\n    code: Error code identifier.\n    message: Human-readable error message."},"AuthErrorResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":false},"error":{"$ref":"#/components/schemas/AuthErrorDetail"}},"type":"object","required":["error"],"title":"AuthErrorResponse","description":"Error response wrapper.\n\nAttributes:\n    success: Always False for error responses.\n    error: Error details."},"AuthSuccessResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["data"],"title":"AuthSuccessResponse","description":"Generic success response wrapper.\n\nAttributes:\n    success: Always True for success responses.\n    data: Response payload."},"ChatRequest":{"properties":{"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id","description":"Existing conversation ID to continue the chat session"},"message":{"type":"string","maxLength":5000,"minLength":1,"title":"Message","description":"User message content (1-5000 characters)"}},"type":"object","required":["message"],"title":"ChatRequest","description":"Request model for chat endpoint.\n\nAttributes:\n    conversation_id: Optional existing conversation ID to continue a chat.\n    message: User's message content to the AI assistant."},"ChatResponse":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id","description":"Conversation session identifier"},"response":{"type":"string","title":"Response","description":"AI assistant's response"},"tool_calls":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Tool Calls","description":"List of tool calls made by the agent"}},"type":"object","required":["conversation_id","response"],"title":"ChatResponse","description":"Response model for chat endpoint.\n\nAttributes:\n    conversation_id: Unique identifier for the conversation session.\n    response: The AI assistant's response to the user's message.\n    tool_calls: List of tools called during message processing."},"CreateTaskRequest":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title"},"description":{"type":"string","maxLength":1000,"title":"Description","default":""},"priority":{"anyOf":[{"type":"string","enum":["high","medium","low"]},{"type":"null"}],"title":"Priority"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["title"],"title":"CreateTaskRequest","description":"Request body for creating a task."},"DeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["data"],"title":"DeleteResponse","description":"Response for delete operations."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"Request schema for user login.\n\nAttributes:\n    email: Valid email address.\n    password: User's password."},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"RegisterRequest","description":"Request schema for user registration.\n\nAttributes:\n    email: Valid email address.\n    password: Password (minimum 8 characters)."},"TaskData":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"completed":{"type":"boolean","title":"Completed"},"priority":{"type":"string","title":"Priority"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","user_id","title","description","completed","priority","tags","created_at","updated_at"],"title":"TaskData","description":"Task data for API responses."},"TaskListResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/TaskData"},"type":"array","title":"Data"},"meta":{"additionalProperties":true,"type":"object","title":"Meta"}},"type":"object","required":["data","meta"],"title":"TaskListResponse","description":"Response for task list operations."},"TaskSuccessResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"$ref":"#/components/schemas/TaskData"}},"type":"object","required":["data"],"title":"TaskSuccessResponse","description":"Response for single task operations."},"UpdateTaskRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"priority":{"anyOf":[{"type":"string","enum":["high","medium","low"]},{"type":"null"}],"title":"Priority"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"}},"type":"object","title":"UpdateTaskRequest","description":"Request body for updating a task."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}